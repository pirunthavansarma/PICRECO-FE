{"ast":null,"code":"/**\n * Uploads images to the server.\n *\n * @param {File[]} images - The images to upload.\n * @param {string} name - The name associated with the images.\n * @param {string} eventName - The event name associated with the images.\n * @returns {Promise<string[]>} A promise that resolves with an array of image URLs.\n */\nexport const uploadImages = async (images, name, eventName) => {\n  const formData = new FormData();\n  formData.append('name', name);\n  formData.append('eventName', eventName);\n  for (const image of images) {\n    formData.append('photos', image);\n  }\n  const token = sessionStorage.getItem('token');\n  if (!token) {\n    throw new Error('No token found. User is not authenticated.');\n  }\n  try {\n    const eventID = 'someEventID'; // Update this to get the actual event ID.\n\n    const response = await fetch(`http://localhost:5001/api/photos/upload/${eventID}`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${token}` // Send the token with the request\n      },\n      body: formData\n    });\n    if (response.ok) {\n      const data = await response.json();\n      return data.imageUrls;\n    } else {\n      throw new Error(`Error uploading images: ${response.status} ${response.statusText}`);\n    }\n  } catch (error) {\n    throw new Error(\"Error uploading images:\", error);\n  }\n};","map":{"version":3,"names":["uploadImages","images","name","eventName","formData","FormData","append","image","token","sessionStorage","getItem","Error","eventID","response","fetch","method","headers","body","ok","data","json","imageUrls","status","statusText","error"],"sources":["/home/krish/Documents/project/picrego photoupload/picrego/Frontend/src/util/uploadImages.js"],"sourcesContent":["/**\n * Uploads images to the server.\n *\n * @param {File[]} images - The images to upload.\n * @param {string} name - The name associated with the images.\n * @param {string} eventName - The event name associated with the images.\n * @returns {Promise<string[]>} A promise that resolves with an array of image URLs.\n */\nexport const uploadImages = async (images, name, eventName) => {\n  const formData = new FormData();\n\n  formData.append('name', name);\n  formData.append('eventName', eventName);\n\n  for (const image of images) {\n    formData.append('photos', image);\n  }\n\n  const token = sessionStorage.getItem('token');\n\n  if (!token) {\n    throw new Error('No token found. User is not authenticated.');\n  }\n\n  try {\n    const eventID = 'someEventID'; // Update this to get the actual event ID.\n\n    const response = await fetch(`http://localhost:5001/api/photos/upload/${eventID}`, {\n      method: \"POST\",\n      headers: {\n        'Authorization': `Bearer ${token}`, // Send the token with the request\n      },\n      body: formData,\n    });\n\n    if (response.ok) {\n      const data = await response.json();\n      return data.imageUrls;\n    } else {\n      throw new Error(`Error uploading images: ${response.status} ${response.statusText}`);\n    }\n  } catch (error) {\n    throw new Error(\"Error uploading images:\", error);\n  }\n};"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMA,YAAY,GAAG,MAAAA,CAAOC,MAAM,EAAEC,IAAI,EAAEC,SAAS,KAAK;EAC7D,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAE/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEJ,IAAI,CAAC;EAC7BE,QAAQ,CAACE,MAAM,CAAC,WAAW,EAAEH,SAAS,CAAC;EAEvC,KAAK,MAAMI,KAAK,IAAIN,MAAM,EAAE;IAC1BG,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAEC,KAAK,CAAC;EAClC;EAEA,MAAMC,KAAK,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;EAE7C,IAAI,CAACF,KAAK,EAAE;IACV,MAAM,IAAIG,KAAK,CAAC,4CAA4C,CAAC;EAC/D;EAEA,IAAI;IACF,MAAMC,OAAO,GAAG,aAAa,CAAC,CAAC;;IAE/B,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,2CAA2CF,OAAO,EAAE,EAAE;MACjFG,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QACP,eAAe,EAAE,UAAUR,KAAK,EAAE,CAAE;MACtC,CAAC;MACDS,IAAI,EAAEb;IACR,CAAC,CAAC;IAEF,IAAIS,QAAQ,CAACK,EAAE,EAAE;MACf,MAAMC,IAAI,GAAG,MAAMN,QAAQ,CAACO,IAAI,CAAC,CAAC;MAClC,OAAOD,IAAI,CAACE,SAAS;IACvB,CAAC,MAAM;MACL,MAAM,IAAIV,KAAK,CAAC,2BAA2BE,QAAQ,CAACS,MAAM,IAAIT,QAAQ,CAACU,UAAU,EAAE,CAAC;IACtF;EACF,CAAC,CAAC,OAAOC,KAAK,EAAE;IACd,MAAM,IAAIb,KAAK,CAAC,yBAAyB,EAAEa,KAAK,CAAC;EACnD;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}